{"ast":null,"code":"import _objectSpread from \"/home/bea/Documents/bea/smart-money-pocket/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/bea/Documents/bea/smart-money-pocket/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/bea/Documents/bea/smart-money-pocket/src/App.js\";\nimport React, { useState } from \"react\";\nimport NewItem from \"./components/NewItem/newItem\";\nimport ItemList from \"./components/ItemList/itemList\";\nimport DateRange from \"./components/DateRangePicker/dateRange\";\nimport \"./App.css\";\n\nfunction App() {\n  this.state = {\n    tData: [],\n    selectedStudent: \"\",\n    studentList: [],\n    selectStudentTable: [],\n    date: date,\n    entry: \"\",\n    exit: \"\",\n    startDay: \"\",\n    endDay: \"\",\n    dateDiff: \"\",\n    attNote: \"\",\n    trainerNote: \"\",\n    attachments: \"\",\n    status: \"\",\n    hours1: \"\",\n    min1: \"\",\n    hours2: \"\",\n    min2: \"\",\n    sec1: \"\",\n    sec2: \"\",\n    timeDiff: \"\",\n    catchDate: false\n  };\n  this.getDateDiff = this.getDateDiff.bind(this);\n\n  const _useState = useState([{\n    id: 1,\n    text: \"Food & Drinks\",\n    spend: \"\"\n  }, {\n    id: 2,\n    text: \"entertainment & Fun\",\n    spend: \"\"\n  }, {\n    id: 3,\n    text: \"Trainning & Study\",\n    spend: \"\"\n  }, {\n    id: 4,\n    text: \"Clothes & Shoes\",\n    spend: \"\"\n  }]),\n        _useState2 = _slicedToArray(_useState, 2),\n        defaultItems = _useState2[0],\n        setItems = _useState2[1];\n\n  const onListHandle = newItem => {\n    setItems(prevItems => prevItems.concat(newItem));\n  };\n\n  const getDateDiff = (dateDiff, startDay, endDay) => {\n    this.setState({\n      dateDiff: dateDiff,\n      startDay: startDay,\n      endDay: endDay\n    });\n    var tempData = [];\n    this.finalTable = [];\n    console.log(\"diff\", this.state.dateDiff);\n    console.log(\"start\", this.state.startDay);\n    console.log(\"end\", this.state.endDay);\n\n    if (endDay !== undefined) {\n      for (let i = 0; i < this.state.dateDiff; i++) {\n        tempData.push({\n          date: moment(this.state.startDay).format(\"DD.MM.YYYY\"),\n          entry: null,\n          attNote: null,\n          attachments: null\n        });\n        console.log(\"diff\", this.state.dateDiff);\n        console.log(\"a1\", [...tempData]);\n        this.setState({\n          tData: [...tempData]\n        });\n        console.log(\"a2\", this.state.tData); //for loop the real-time clicked data\n\n        if (startDay !== null) {\n          startDay.setDate(startDay.getDate() + 1);\n        } else {\n          let today = new Date();\n          return today;\n        }\n      }\n    } else {\n      tempData.push({\n        date: moment(this.state.startDay).format(\"DD.MM.YYYY\"),\n        entry: null,\n        attNote: null,\n        attachments: null\n      });\n      console.log(\"a1\", [...tempData]);\n      this.setState({\n        tData: [...tempData]\n      });\n      console.log(\"a2\", this.state.tData);\n    }\n\n    this.attendance = [];\n    let match;\n    let cloneData = [...this.state.tData]; //to map the function\n\n    let realDates = this.state.tData.map((realDate, i) => {\n      match = this.state.user.attendance.filter(val => {\n        return val.date === realDate.date;\n      });\n      console.log(\"realClick\", realDate.date);\n\n      if (match.length > 0) {\n        cloneData[i] = _objectSpread({}, match[0]);\n        this.setState({\n          tData: [...cloneData]\n        });\n        console.log(\"final dummy data\", [...this.state.tData]);\n      }\n\n      let selectEntryTimeResult;\n\n      if (this.state.user.role == \"trainer\") {\n        selectEntryTimeResult = React.createElement(EntryTimeSelect, {\n          onSave: this.HandleEnterTimeReset,\n          onChange: this.HandleEnterTimeReset,\n          entry: this.state.tData[i].entry,\n          value: realDate.date //to match the rel click to the cliked date\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        });\n      } else if (this.state.user.role == \"manager\") {\n        selectEntryTimeResult = React.createElement(EntryTimeSelect, {\n          onSave: this.HandleEnterTimeReset,\n          onChange: this.HandleEnterTimeReset,\n          entry: this.state.tData[i].entry,\n          value: realDate.date //to match the rel click to the cliked date\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n      } else {\n        selectEntryTimeResult = this.state.tData[i].entry;\n      }\n\n      let studentNoteResult;\n\n      if (this.state.user.role == \"attendee\") {\n        studentNoteResult = React.createElement(AttendenceNote, {\n          onClick: this.HandleAttendenceNote,\n          onClose: this.HandleAttendenceNote,\n          onChange: this.HandleAttendenceNote,\n          attNote: this.state.tData[i].attNote,\n          onCancel: this.HandleAttendenceNote,\n          value: realDate.date //from getDateDiff event\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        });\n      } else {\n        studentNoteResult = this.state.tData[i].attNote;\n      }\n\n      let uploadResult;\n\n      if (this.state.user.role == \"attendee\") {\n        uploadResult = React.createElement(Upload, {\n          onClick: this.HandleAttachment,\n          onChange: this.HandleAttachment,\n          attachments: this.state.tData[i].attachments,\n          value: realDate.date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        });\n      } else if (this.state.user.role == \"trainer\") {\n        uploadResult = React.createElement(Upload, {\n          onClick: this.HandleAttachment,\n          onChange: this.HandleAttachment,\n          attachments: this.state.tData[i].attachments,\n          value: realDate.date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        });\n      } else if (this.state.user.role == \"manager\") {\n        uploadResult = React.createElement(Upload, {\n          onClick: this.HandleAttachment,\n          onChange: this.HandleAttachment,\n          attachments: this.state.tData[i].attachments,\n          value: realDate.date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        });\n      } else {\n        uploadResult = this.state.tData[i].attachments;\n      }\n\n      this.finalTable.push(React.createElement(\"tr\", {\n        key: i,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, this.state.tData[i].date, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, selectEntryTimeResult), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, studentNoteResult), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, uploadResult))); // startDay.setDate(startDay.getDate() + 1);\n\n      this.setState({\n        catchDate: true\n      });\n      console.log(\"realDate\", realDate.date);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Welcome , easily record your daily spending here!\"), React.createElement(DateRange, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), React.createElement(NewItem, {\n    onAddItem: onListHandle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), React.createElement(ItemList, {\n    items: defaultItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, this.finalTable));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/bea/Documents/bea/smart-money-pocket/src/App.js"],"names":["React","useState","NewItem","ItemList","DateRange","App","state","tData","selectedStudent","studentList","selectStudentTable","date","entry","exit","startDay","endDay","dateDiff","attNote","trainerNote","attachments","status","hours1","min1","hours2","min2","sec1","sec2","timeDiff","catchDate","getDateDiff","bind","id","text","spend","defaultItems","setItems","onListHandle","newItem","prevItems","concat","setState","tempData","finalTable","console","log","undefined","i","push","moment","format","setDate","getDate","today","Date","attendance","match","cloneData","realDates","map","realDate","user","filter","val","length","selectEntryTimeResult","role","HandleEnterTimeReset","studentNoteResult","HandleAttendenceNote","uploadResult","HandleAttachment"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport NewItem from \"./components/NewItem/newItem\";\nimport ItemList from \"./components/ItemList/itemList\";\nimport DateRange from \"./components/DateRangePicker/dateRange\";\nimport \"./App.css\";\n\nfunction App() {\n  this.state = {\n    tData: [],\n    selectedStudent: \"\",\n    studentList: [],\n    selectStudentTable: [],\n    date: date,\n    entry: \"\",\n    exit: \"\",\n    startDay: \"\",\n    endDay: \"\",\n    dateDiff: \"\",\n    attNote: \"\",\n    trainerNote: \"\",\n    attachments: \"\",\n    status: \"\",\n    hours1: \"\",\n    min1: \"\",\n    hours2: \"\",\n    min2: \"\",\n    sec1: \"\",\n    sec2: \"\",\n    timeDiff: \"\",\n    catchDate: false\n  };\n\n  this.getDateDiff = this.getDateDiff.bind(this);\n\n  const [defaultItems, setItems] = useState([\n    { id: 1, text: \"Food & Drinks\", spend: \"\" },\n    { id: 2, text: \"entertainment & Fun\", spend: \"\" },\n    { id: 3, text: \"Trainning & Study\", spend: \"\" },\n    { id: 4, text: \"Clothes & Shoes\", spend: \"\" }\n  ]);\n\n  const onListHandle = newItem => {\n    setItems(prevItems => prevItems.concat(newItem));\n  };\n\n  const getDateDiff = (dateDiff, startDay, endDay) => {\n    this.setState({\n      dateDiff: dateDiff,\n      startDay: startDay,\n      endDay: endDay\n    });\n    var tempData = [];\n\n    this.finalTable = [];\n    console.log(\"diff\", this.state.dateDiff);\n    console.log(\"start\", this.state.startDay);\n    console.log(\"end\", this.state.endDay);\n\n    if (endDay !== undefined) {\n      for (let i = 0; i < this.state.dateDiff; i++) {\n        tempData.push({\n          date: moment(this.state.startDay).format(\"DD.MM.YYYY\"),\n          entry: null,\n          attNote: null,\n          attachments: null\n        });\n        console.log(\"diff\", this.state.dateDiff);\n        console.log(\"a1\", [...tempData]);\n        this.setState({\n          tData: [...tempData]\n        });\n        console.log(\"a2\", this.state.tData);\n        //for loop the real-time clicked data\n        if (startDay !== null) {\n          startDay.setDate(startDay.getDate() + 1);\n        } else {\n          let today = new Date();\n          return today;\n        }\n      }\n    } else {\n      tempData.push({\n        date: moment(this.state.startDay).format(\"DD.MM.YYYY\"),\n        entry: null,\n        attNote: null,\n        attachments: null\n      });\n      console.log(\"a1\", [...tempData]);\n      this.setState({\n        tData: [...tempData]\n      });\n      console.log(\"a2\", this.state.tData);\n    }\n\n    this.attendance = [];\n    let match;\n    let cloneData = [...this.state.tData];\n    //to map the function\n    let realDates = this.state.tData.map((realDate, i) => {\n      match = this.state.user.attendance.filter(val => {\n        return val.date === realDate.date;\n      });\n      console.log(\"realClick\", realDate.date);\n\n      if (match.length > 0) {\n        cloneData[i] = { ...match[0] };\n        this.setState({ tData: [...cloneData] });\n        console.log(\"final dummy data\", [...this.state.tData]);\n      }\n\n      let selectEntryTimeResult;\n      if (this.state.user.role == \"trainer\") {\n        selectEntryTimeResult = (\n          <EntryTimeSelect\n            onSave={this.HandleEnterTimeReset}\n            onChange={this.HandleEnterTimeReset}\n            entry={this.state.tData[i].entry}\n            value={realDate.date} //to match the rel click to the cliked date\n          />\n        );\n      } else if (this.state.user.role == \"manager\") {\n        selectEntryTimeResult = (\n          <EntryTimeSelect\n            onSave={this.HandleEnterTimeReset}\n            onChange={this.HandleEnterTimeReset}\n            entry={this.state.tData[i].entry}\n            value={realDate.date} //to match the rel click to the cliked date\n          />\n        );\n      } else {\n        selectEntryTimeResult = this.state.tData[i].entry;\n      }\n\n      let studentNoteResult;\n      if (this.state.user.role == \"attendee\") {\n        studentNoteResult = (\n          <AttendenceNote\n            onClick={this.HandleAttendenceNote}\n            onClose={this.HandleAttendenceNote}\n            onChange={this.HandleAttendenceNote}\n            attNote={this.state.tData[i].attNote}\n            onCancel={this.HandleAttendenceNote}\n            value={realDate.date} //from getDateDiff event\n          />\n        );\n      } else {\n        studentNoteResult = this.state.tData[i].attNote;\n      }\n\n      let uploadResult;\n      if (this.state.user.role == \"attendee\") {\n        uploadResult = (\n          <Upload\n            onClick={this.HandleAttachment}\n            onChange={this.HandleAttachment}\n            attachments={this.state.tData[i].attachments}\n            value={realDate.date}\n          />\n        );\n      } else if (this.state.user.role == \"trainer\") {\n        uploadResult = (\n          <Upload\n            onClick={this.HandleAttachment}\n            onChange={this.HandleAttachment}\n            attachments={this.state.tData[i].attachments}\n            value={realDate.date}\n          />\n        );\n      } else if (this.state.user.role == \"manager\") {\n        uploadResult = (\n          <Upload\n            onClick={this.HandleAttachment}\n            onChange={this.HandleAttachment}\n            attachments={this.state.tData[i].attachments}\n            value={realDate.date}\n          />\n        );\n      } else {\n        uploadResult = this.state.tData[i].attachments;\n      }\n\n      this.finalTable.push(\n        <tr key={i} align=\"center\">\n          <td>{this.state.tData[i].date} </td>\n          <td>{selectEntryTimeResult}</td>\n          <td>{studentNoteResult}</td>\n          <td>{uploadResult}</td>\n        </tr>\n      );\n\n      // startDay.setDate(startDay.getDate() + 1);\n      this.setState({\n        catchDate: true\n      });\n      console.log(\"realDate\", realDate.date);\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Welcome , easily record your daily spending here!</h1>\n      <DateRange></DateRange>\n      <NewItem onAddItem={onListHandle}></NewItem>\n      <ItemList items={defaultItems}></ItemList>\n      <td>{this.finalTable}</td>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}